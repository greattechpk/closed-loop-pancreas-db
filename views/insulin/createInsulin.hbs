<h1>Deliver Insulin</h1>

{{!-- bloodGlucose: Number,
    totalCorrection:Number,
    fixedCorrection: Number,
    foodItems: Array,
    totalCarbs: Number,
    totalFoodDelivery: Number,
    deliveryType: String,
    totalDelivery: Number,
    deliveryTime: Date --}}

{{!-- const globalSchema = new Schema({
    carbRatio: Number,
    correctionSubtract:Number,
    correctionDivisor:Number,
    activeInsulin: Number,
    activeInsulinTimer: Number,
    insulinType: String,
    insulinActivityLength: Number
    }) --}}


<form action="/insulin" method="POST">
    <diV class="form-group">
        <label>Enter BG</label>
        <span><input type="number" name="bloodGlucose" id="formBG"/></span>
        <div class="form-section">
            <label>Correction Formula</label>
            <p>Fixed Correction = (BG - <span id="valCorrectSub">{{globalData.correctionSubtract}}</span>)/<span id="valCorrectDiv">{{globalData.correctionDivisor}}</span> - <span id="valActive">{{globalData.activeInsulin}}(Active Insulin)</span></p>
            <div class="form-block"><label>Total Correction:</label><input type="number" name="totalCorrection" id="formTCorrect" readonly></div>
            <div class="form-block"><label>Fixed Correction:</label><input type="number" name="fixedCorrection" id="formFCorrect" readonly></div>
        </div>
    </diV>

    <div class="form-group">
        <label>Food Items</label>
        <div id="food-pop">
            {{!-- dropdown values added go here --}}
        </div>
        <div class="food-dd" id="food-dd">
            <select name="foodItems" id="foodItemsdd">
                {{#each foodData}}
                <option>{{name}} <span class="carb-val">{{carbValue}}</span>g</option>
                {{/each}}
            </select>
            <input id="quantity" type="number"/>
            <div id="add-btn">Add</div>
        </div>
        <div class="form-block"><label>Total Carbs:</label><input type="number" name="totalCarbs" class="input-tcarbs" readonly></div>
        <div class="form-block"><label>Food Delivery:</label><input type="number" name="totalFoodDelivery" class="input-fd" readonly></div>
    </div>

    <div class="form-group">
        <label>Delivery Type</label>
        <select name="deliveryType" id="deliveryType-dd">
            <option value="food">Food Delivery</option>
            <option value="correction">Correction</option>
            <option value="both">Both</option>
        </select>
    </div>

    <div class="form-block"><label>Total Delivery:</label><input type="number" name="totalDelivery" class="input-td" readonly></div>
    <input type="submit" value="Create" />
</form>